{
  "variables": {
    "headers": {
      "none": "",
      "plaintext": "--header Accept:text/plain,text/html;q=0.9,application/xhtml+xml;q=0.9,application/xml;q=0.8,*/*;q=0.7",
      "html": "--header Accept:text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8",
      "json": "--header Accept:application/json,text/html;q=0.9,application/xhtml+xml;q=0.9,application/xml;q=0.8,*/*;q=0.7",
      "connectionclose": "--header Connection:close"
    },
    "presetHeaders": "none"
  },
  "jobs": {
    "wrk": {
      "source": {
        "repository": "https://github.com/aspnet/benchmarks.git",
        "branchOrCommit": "master",
        "project": "src/WrkClient/WrkClient.csproj"
      },
      "readyStateText": "Running ",
      "waitForExit": true,
      "variables": {
        "connections": 256,
        "duration": 15,
        "warmup": 0,
        "threads": 32,
        "pipeline": 16,
        "script": null,
        "scriptArguments": ""
      },
      "requiredVariables": {
        "serverUri": "http://10.0.0.102",
        "serverPort": 5000
      },
      "arguments": "-c {{connections}} {{serverUri}}:{{serverPort}}{{path}} --latency -d {{duration}}s -w {{warmup}}s -t {{threads}} {{headers[presetHeaders]}} -s scripts/pipeline.lua -- {{ pipeline + 1 }} {% if pipeline > 1 %} -s scripts/pipeline.lua -- {{ pipeline }} {% elsif script.length > 0  %} -s {{script}} -- {{scriptArguments}} {% endif %}"
    }
  }
}